#!/bin/bash
CSV_FILE="pokemon_report.csv"
echo "Name,Height (m),Weight (kg)" > "$CSV_FILE"
for file in pokemon_data/*.json; do
    name=$(jq -r '.name' "$file" | sed 's/.*/\u&/')
    height_dm=$(jq -r '.height' "$file")
    weight_hg=$(jq -r '.weight' "$file")
    height_m=$(echo "scale=2; $height_dm / 10" | bc)
    weight_kg=$(echo "scale=2; $weight_hg / 10" | bc)
    echo "$name,$height_m,$weight_kg" >> "$CSV_FILE"
done
echo "CSV Report generated at: $CSV_FILE"
echo ""
cat "$CSV_FILE"
awk -F, 'NR > 1 { height += $2; weight += $3; count++ }
         END {
           printf "\nAverage Height: %.2f m\n", height / count
           printf "Average Weight: %.2f kg\n", weight / count
         }' "$CSV_FILE"
